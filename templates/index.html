{% extends 'base.html' %}

{% block title %}Home - Online Bookstore{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="page-header">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-3">Welcome to Online Bookstore</h1>
                <p class="lead mb-4">Discover millions of books at your fingertips. From bestsellers to rare finds, we have it all.</p>
                <a href="{{ url_for('books') }}" class="btn btn-light btn-lg">
                    <i class="fas fa-book"></i> Browse Books
                </a>
            </div>
            <div class="col-lg-6 text-center">
                <i class="fas fa-book-open" style="font-size: 150px; opacity: 0.3;"></i>
            </div>
        </div>
    </div>
</section>

<!-- Featured Books Section -->
<section class="container mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-star"></i> Featured Books</h2>
        <a href="{{ url_for('books') }}" class="btn btn-outline-primary">View All</a>
    </div>
    
    <div class="row">
        {% for book in featured_books %}
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card book-card h-100">
                <div class="card-body">
                    <h5 class="card-title text-truncate" title="{{ book.title }}">{{ book.title }}</h5>
                    <p class="card-text text-muted">{{ book.author }}</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="h5 text-primary mb-0">${{ book.price }}</span>
                        {% if book.category %}
                        <span class="badge category-badge">{{ book.category.name }}</span>
                        {% endif %}
                    </div>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <div class="d-grid gap-2">
                        <a href="{{ url_for('book_detail', book_id=book.id) }}" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-eye"></i> View Details
                        </a>
                        <a href="{{ url_for('add_to_cart', book_id=book.id) }}" class="btn btn-primary btn-sm">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Categories Section -->
<section class="container mb-5">
    <h2 class="mb-4"><i class="fas fa-th-large"></i> Browse by Category</h2>
    <div class="row">
        {% for category in categories %}
        <div class="col-md-2 col-sm-4 col-6 mb-3">
            <a href="{{ url_for('category_books', category_id=category.id) }}" class="text-decoration-none">
                <div class="card text-center book-card h-100">
                    <div class="card-body">
                        <i class="fas fa-book fa-2x mb-2 text-primary"></i>
                        <h6 class="card-title">{{ category.name }}</h6>
                        <small class="text-muted">{{ category.books|length }} books</small>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Recent Books Section -->
<section class="container mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-clock"></i> Recently Added</h2>
        <a href="{{ url_for('books') }}" class="btn btn-outline-primary">View All</a>
    </div>
    
    <div class="row">
        {% for book in recent_books %}
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card book-card h-100">
                <div class="card-body">
                    <h5 class="card-title text-truncate" title="{{ book.title }}">{{ book.title }}</h5>
                    <p class="card-text text-muted">{{ book.author }}</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="h5 text-primary mb-0">${{ book.price }}</span>
                        {% if book.stock_quantity > 0 %}
                        <span class="badge bg-success">In Stock</span>
                        {% else %}
                        <span class="badge bg-danger">Out of Stock</span>
                        {% endif %}
                    </div>
                </div>
                <div class="card-footer bg-transparent border-top-0">
                    <div class="d-grid gap-2">
                        <a href="{{ url_for('book_detail', book_id=book.id) }}" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-eye"></i> View Details
                        </a>
                        <a href="{{ url_for('add_to_cart', book_id=book.id) }}" class="btn btn-primary btn-sm">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Why Choose Us Section -->
<section class="bg-light py-5 mb-5">
    <div class="container">
        <h2 class="text-center mb-5">Why Choose Us</h2>
        <div class="row">
            <div class="col-md-4 mb-4 text-center">
                <i class="fas fa-shipping-fast fa-3x text-primary mb-3"></i>
                <h4>Fast Shipping</h4>
                <p class="text-muted">Get your books delivered to your doorstep within 3-5 business days.</p>
            </div>
            <div class="col-md-4 mb-4 text-center">
                <i class="fas fa-book fa-3x text-primary mb-3"></i>
                <h4>Wide Selection</h4>
                <p class="text-muted">Millions of books across various genres and categories.</p>
            </div>
            <div class="col-md-4 mb-4 text-center">
                <i class="fas fa-shield-alt fa-3x text-primary mb-3"></i>
                <h4>Secure Payments</h4>
                <p class="text-muted">100% secure payment processing for your peace of mind.</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}